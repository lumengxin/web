<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>vuejs-Ajax</title>
		<script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
		<script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
	</head>
	<body>
		<h1>18.vuejsAjax</h1>
		<p>vue要实现异步加载需要使用到vue-resource库。</p>
		<code>https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js</code>

		<h2>18.2Get请求</h2>
		<div id="box">
			<input type="button" @click="get()" value="点击我异步获得数据（Get)">
		</div>

		<h2>18.3Post请求</h2>
		<div id="box2">
			<input type="button" @click="post()" value="点击我异步获得数据（Post)">
		</div>


		<script>
			window.onload = function() {
				var vm = new Vue({
					el: '#box',
					data: {
						message: 'hello,ajax',
					},
					methods: {
						get: function() {
							//发送get请求
							this.$http.get('./ajax_info.txt').then(function(res) {
								document.write(res.body);
							},function() {
								condole.log('请求处理失败');
							});
						}
					}
				});
			}
			window.onload = function() {
				var rm = new Vue({
					el: '#box2',
					data: {
						msg: 'hello,ajax2',
					},
					methods: {
						post: function() {
							//发送post请求
							this.$http.post('post.php',{name:"菜鸟教程",url:"http://www.runoob.com"},{emulateJSON:true}).then(function(res){
                    document.write(res.body); 
							},function(res) {
								condole.log('res.status');
							});
						}
					}
				});
			}
		</script>
		
	</body>
</html>


